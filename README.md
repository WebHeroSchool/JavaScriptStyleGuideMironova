# JavaScript Best Practices

## 1.Всегда объявляйте локальные переменные

Как следствие, мы должны всегда объявлять локальные переменные и постоянные также с помощью var, let или const. В противном случае переменная будет объявлена как глобальная и как свойство объекта window, чего мы определенно не хотим.


***Плохо***
```
x = 1;
```

***Хорошо***

```
let x = 1;
```


## 2.Избегайте глобальных переменных

Избегайте глобальных переменных, Избегайте новых, Избегайте = =, Избегайте eval ()

Минимизация использования глобальных переменных.Сюда входят все типы данных, объекты и функции.
Глобальные переменные и функции могут быть перезаписаны другими скриптами.


## 3.Завершите переключатели (switch) по умолчанию.

Всегда завершайте операторы switch значением default. Даже если вы думаете, что в этом нет необходимости.

Пример:

```
switch (new Date().getDay()) {
    case 0:
        day = "Sunday";
        break;
    case 1:
        day = "Monday";
        break;
    case 2:
        day = "Tuesday";
        break;
    case 3:
        day = "Wednesday";
        break;
    case 4:
        day = "Thursday";
        break;
    case 5:
        day = "Friday";
        break;
    case 6:
        day = "Saturday";
        break;
    default:
        day = "Unknown";
}
```


## 4.Использовать === сравнение

Оператор `==` сравнения всегда преобразует (в совпадающие типы) перед сравнением.

Оператор `===` заставляет сравнивать значения и тип:

```
0 == "";        // true
1 == "1";       // true
1 == true;      // true

0 === "";       // false
1 === "1";      // false
1 === true;     // false
```


## 5.Объявления сверху

Хорошей практикой написания кода является размещение всех объявлений в начале каждого скрипта или функции.

Это:

    *Сделает чище код.

    *Предоставит единственное место для поиска локалльных переменных.

    *Позволит избегать нежелательных (подразумеваемых) глобальных переменных.

    *Уменьшит возможность нежелательных повторных объявлений.

```
// Объявите в начале
var firstName, lastName, price, discount, fullPrice;

// Используйте после
firstName = 'John';
lastName = 'Doe';

price = 19.90;
discount = 0.10;

fullPrice = price * 100 / discount;
```

Это также относится к переменным цикла:

```
// Объявите в начале
var i;

// Используйте после
for (i = 0; i < 5; i++) {
  // ...
}
```


## 6.Не использовать new Object()

*Используйте `{}` вместо `new Object()`.

*Используйте `''` вместо `new String()`.

*Используйте `0` вместо `new Number()`.

*Используйте `false` вместо `new Boolean()`.

*Используйте `[]` вместо `new Array()`.

*Используйте `/()/` вместо `new RegExp()`.

*Используйте `function() {}` вместо `new Function()`.

```
var x1 = {}; // new object
var x2 = ''; // new primitive string
var x3 = 0; // new primitive number
var x4 = false; // new primitive boolean
var x5 = []; // new array object
var x6 = /()/; // new regexp object
var x7 = function() {}; // new function object
```


## 7.Точка с запятой

Каждая инструкция должна заканчиваться точкой с запятой.

```
// плохо
let luke = {}
let leia = {}
[luke, leia].forEach(jedi => jedi.father = 'vader')

// хорошо
let luke = {};
let leia = {};
[luke, leia].forEach((jedi) => {
  jedi.father = 'vader';
});  
```


## 8.Названия объектов языка должны отражать их значение/функции

Названия переменных должны отражать тип значения и контекст, в котором они будут использоваться. Названия функций должны отражать их назначение или получаемый результат.

```
// плохо
const a = 10;
const anotherString = '...';
const human = true;
const date = () => {
  const currentTime = new Date();
  return currentTime;
}

// хорошо
const length = 10;
const thirdString = '...';
const isHuman = true;
const getDate = () => {
  const currentTime = new Date();
  return currentTime;
}
```


## 9.Остерегайтесь автоматических преобразований типов


Помните, что числа могут быть случайно преобразованы в строки или NaN (Not a Number/Не число).

JavaScript слабо типизирован. Переменная может содержать разные типы данных, а переменная может изменять свой тип данных:

```
var x = 'Hello'; // по типу х является строкой
x = 5; // изменение типа х на число
```

При выполнении математических операций JavaScript может преобразовывать числа в строки:

```
var x = 5 + 7; // x.valueOf() является 12, тип х является числом
var x = 5 + '7'; // x.valueOf() является 57, тип х является строкой
var x = '5' + 7; // x.valueOf() является 57, тип х является строкой
var x = 5 - 7; // x.valueOf() является -2, тип х является числом
var x = 5 - '7'; // x.valueOf() является -2, тип х является числом
var x = '5' - 7; // x.valueOf() является -2, тип х является числом
var x = 5 - 'x'; // x.valueOf() является NaN, тип х является числом
```

Вычитание строк из строки не генерирует ошибку, но возвращает NaN (Not a Number):

```
'Hello' - 'Dolly' // возвращает NaN
```

## 10. Снижение активности в циклах.

Циклы часто используются в программировании.

Каждый оператор в цикле, включая оператор `for`, выполняется для каждой итерации цикла.

Операторы или присваивания, которые могут быть размещены вне цикла, заставят цикл работать быстрее.

Плохо:

```
var i;
for (i = 0; i < arr.length; i++) {
//
}
```
Хорошо:
```
var i;
var l = arr.length;
for (i = 0; i < l; i++) {
//
}
```
Плохой код обращается к свойству `length` массива каждый раз, когда цикл повторяется.
Хороший код получает доступ к свойству длины вне цикла и ускоряет выполнение цикла.

## 11.Доступ к DOM.

Доступ к HTML DOM происходит очень медленно по сравнению с другими операторами JavaScript.

Если вы ожидаете получить доступ к элементу DOM несколько раз, получите доступ к нему один раз и используйте его как локальную переменную.

Пример:

```
var obj;
obj = document.getElementById("demo");
obj.innerHTML = "Hello";
```
